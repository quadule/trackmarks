(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1};window.Trackmarks=function(){function c(b,d){var e,f,g,h,i;this.callback=b,this.detectors={},this.seenServices=[];if(d)for(g=0,h=d.length;g<h;g++)f=d[g],this.detectors[f]=new c.Detector[f];else{i=c.Detector;for(f in i)e=i[f],this.detectors[f]=new e}this.callback!=null&&setInterval(a(function(){return this.detectNewServices()},this),333)}return c.Detector={},c.prototype.detectNewServices=function(){var a,c,d,e;d=this.detectedServices(),e=[];for(c in d)a=d[c],e.push(b.call(this.seenServices,c)<0?(this.callback(c,a),this.seenServices.push(c)):void 0);return e},c.prototype.detectedServices=function(){var a,b,c,d,e,f,g;e={},f=this.detectors;for(c in f){b=f[c],g=b.detectedServices();for(d in g)a=g[d],e[d]=a}return e},c}(),Trackmarks.Detector.ScriptTagMatcher=function(){function b(){}var a;return a={Instapaper:/instapaper\.com\//i,"Read It Later":/readitlaterlist\.com\//i,Pinterest:/pinterest\.com\//i,Readability:/readability\.com\//i,Twitter:/platform\.twitter\.com\/bookmarklets/i},b.prototype.detectedServices=function(){var b,c,d,e,f,g,h,i,j;d={},i=document.getElementsByTagName("script");for(g=0,h=i.length;g<h;g++){f=i[g],e=(j=f.attributes.src)!=null?j.value:void 0;for(b in a){c=a[b];if(e!=null?typeof e.match=="function"?e.match(c):void 0:void 0)d[b]=null}}return d},b}(),Trackmarks.Detector.WindowOpenHook=function(){function c(){var b;this.urls=b=[],this.opener=window.open,window.open=a(function(){return this.opener.apply(null,arguments),this.urls.push(arguments[0])},this)}var b;return b={Delicious:/delicious\.com\/save\?/i,Facebook:/facebook\.com\/share/i,Tumblr:/tumblr\.com\/share/i,Wordpress:/(.*)\/wp-admin\/press-this\.php/i},c.prototype.detectedServices=function(){var a,c,d,e,f,g,h,i;e={},i=this.urls;for(g=0,h=i.length;g<h;g++){f=i[g];for(c in b){d=b[c];if(a=typeof f.match=="function"?f.match(d):void 0)a.length>1?e[c]={url:a[1]}:e[c]=null}}return e},c}()}).call(this);